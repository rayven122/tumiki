---
allowed-tools: Task
description: "依存関係脆弱性チェックとコードセキュリティ分析"
---

## 引数

- **引数なし**: フルスキャン（依存関係 + コード）
- **`--deps`**: 依存関係のみスキャン
- **`--code`**: コードセキュリティのみスキャン
- **`--fix`**: 自動修正可能な脆弱性を修正

## 実行フロー

### 1. セキュリティスキャン実行

```
Task tool:
- subagent_type: security-scanner
- prompt: |
    セキュリティスキャンを実行

    ## スキャン対象
    [引数に応じて指定]
    - フルスキャン / --deps / --code

    ## オプション
    - --fix: [有無]
```

### 2. レポート確認

エージェントが以下を出力:

- 依存関係脆弱性（Critical/High/Medium/Low）
- コードセキュリティ問題
- 推奨アクション

### 3. 修正実行（`--fix`時）

エージェントが自動修正可能な項目を修正し、結果を報告。

## コマンド・エージェント連携図

```
/security-scan (リーダー)
    │
    └── security-scanner（スキャン・レポート・修正）
        ├── 依存関係脆弱性チェック (pnpm audit)
        ├── コードセキュリティスキャン (Grep)
        ├── 設定ファイルチェック
        └── レポート生成・修正実装
```
