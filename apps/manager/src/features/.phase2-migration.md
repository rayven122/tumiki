# Phase 2: Medium Feature Migration

## Target Features

### 2.1 chat

- [ ] Move `app/[orgSlug]/chat/_components/` to `features/chat/components/`
- [ ] Move `server/api/routers/v2/chat/` to `features/chat/api/`
- [ ] Handle artifacts integration
- [ ] Consider Chat UI component organization

### 2.2 roles (EE機能含む)

- [ ] Move `server/api/routers/v2/role/` to `features/roles/api/`
- [ ] Maintain EE/CE separation pattern
  ```
  features/roles/api/
  ├── router.ts
  ├── create.ts         # CE Facade
  └── create.ee.ts      # EE実装
  ```

### 2.3 groups (org-structure)

- [ ] Move `app/[orgSlug]/org-structure/_components/` to `features/groups/components/`
- [ ] Move `server/api/routers/v2/group/` to `features/groups/api/`

### 2.4 members

- [ ] Integrate legacy `server/api/routers/organization/` into `features/members/`
- [ ] Integrate `server/api/routers/v2/user/` into `features/members/`

## Completion Criteria

- [ ] All tRPC router tests pass
- [ ] EE/CE both build successfully
- [ ] Playwright MCP verification passes
