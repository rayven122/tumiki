# アーキテクチャ・設計ドキュメント

このディレクトリには、Tumiki MCP Managerのシステムアーキテクチャと設計に関するドキュメントが含まれています。

## 📂 ドキュメント一覧

### システム設計

- [DB設計.md](./DB設計.md) - データベーススキーマ設計とER図
  - Prismaスキーマの詳細
  - 各テーブルの関係性
  - インデックス設計

- [MCPサーバー管理サービスの要件定義書.md](./MCPサーバー管理サービスの要件定義書.md) - サービス全体の要件定義
  - 機能要件
  - 非機能要件
  - システム構成

- [MCPサーバー管理画面設計書.md](./MCPサーバー管理画面設計書.md) - 管理画面のUI/UX設計
  - 画面遷移図
  - ワイヤーフレーム
  - コンポーネント設計

### 機能別設計

- [mcp-server-request-log-design.md](./mcp-server-request-log-design.md) - リクエストログシステムの設計
  - ログ収集の仕組み
  - データ圧縮と保存
  - 分析機能の設計

- [外部サービス接続管理設計書.md](./外部サービス接続管理設計書.md) - 外部API連携の設計
  - OAuth認証フロー
  - APIキー管理
  - エラーハンドリング

### プロジェクト構造

- [ディレクトリ設計.ini](./ディレクトリ設計.ini) - プロジェクトのディレクトリ構造
  - モノレポ構成
  - パッケージ間の依存関係

## 🏗️ アーキテクチャ概要

### 技術スタック

- **フロントエンド**: Next.js 15 (App Router), React 19, TypeScript
- **バックエンド**: tRPC, Express.js (Proxy Server)
- **データベース**: PostgreSQL, Prisma ORM
- **認証**: Auth0
- **インフラ**: Vercel, Google Cloud Platform

### システム構成

```
┌─────────────────┐     ┌─────────────────┐
│   Frontend      │────▶│   Backend API   │
│   (Next.js)     │     │     (tRPC)      │
└─────────────────┘     └─────────────────┘
         │                       │
         │                       ▼
         │              ┌─────────────────┐
         │              │   Database      │
         │              │  (PostgreSQL)   │
         │              └─────────────────┘
         │
         ▼
┌─────────────────┐     ┌─────────────────┐
│  Proxy Server   │────▶│  MCP Servers    │
│  (Express.js)   │     │   (External)    │
└─────────────────┘     └─────────────────┘
```

## 📝 設計原則

1. **型安全性**: TypeScriptとtRPCによる完全な型安全性
2. **スケーラビリティ**: マイクロサービス志向の設計
3. **セキュリティ**: ゼロトラストセキュリティモデル
4. **保守性**: クリーンアーキテクチャとDRY原則

## 🔗 関連ドキュメント

- [開発ガイド](../development/README.md)
- [セキュリティ設計](../security/README.md)
- [認証システム](../auth/README.md)