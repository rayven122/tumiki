# Tumiki サービス セキュリティ要件

## 概要

Tumikiは複数のMCPサーバーを管理するプラットフォームです。ユーザーの機密データとAPIキーを安全に保護するためのセキュリティ要件を定めます。

## 1. 認証・認可

### 認証システム

- **Auth0**: Google/GitHub OAuth認証
- **APIキー認証**: MCPサーバーアクセス用

### アクセス制御

- **管理者権限**: システム全体の管理
- **ユーザー権限**: 個人データのみアクセス可能

## 2. データ保護

### 機密データの暗号化

- **MCPサーバーのAPIキー**: データベース保存時にハッシュ化。ハッシュ値で検証
- **各SaaS環境変数**: データベース保存時に暗号化
- **ログ出力**: 機密情報のマスキング

## 3. 通信セキュリティ

### API保護

- **入力検証**: 全てのAPIリクエストを検証
- **APIキー必須**: MCPサーバーアクセスには認証必須
- **HTTPS通信**: 全通信の暗号化

## 4. セキュリティリスク

### 🔴 対応必要

- CORS設定の厳格化
- CSRF保護の実装

### 🟡 改善推奨

- APIレート制限
- セキュリティヘッダー設定

### ✅ 実装済み

- フィールド暗号化
- OAuth認証
- 監査ログ

## 5. コンプライアンス

### データ保護

- **GDPR**: ユーザーデータの適切な管理
- **暗号化**: 保存時・転送時の暗号化
- **監査**: アクセスログの記録

### セキュリティ標準

- **OWASP**: Webアプリケーションセキュリティ
- **SOC2**: セキュリティ統制
- **ISO27001**: 情報セキュリティ管理
