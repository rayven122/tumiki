# フロントエンドコーディングルール

## ディレクトリ構造

### コンポーネント
- `app/_components/` 配下にアプリケーション全体で使用される共通コンポーネントを配置
- コンポーネントファイルは PascalCase で命名（例：`Button.tsx`, `UserCard.tsx`）
- コンポーネントのテストファイルは同じディレクトリに配置（例：`Button.test.tsx`）

### API
- `app/api/` 配下にAPIエンドポイントを配置
- tRPCルーターは `server/api/routers/` に配置
- APIエンドポイントは追加したい場合は、tRPC のルーターを利用

### ページ
- `app/` 配下にページコンポーネントを配置
- ページコンポーネントは `page.tsx` として命名
- レイアウトは `layout.tsx` として配置

## コーディング規約

### コンポーネント
- 関数コンポーネントを使用し、アロー関数で定義
- Props の型定義は必ず行う
- コンポーネントの props は分割代入で受け取る

```ts
type ButtonProps = {
  label: string;
  onClick: () => void;
};

const Button = ({ label, onClick }: ButtonProps) => {
  return <button onClick={onClick}>{label}</button>;
};
```

### スタイリング
- Tailwind CSS を使用
- カスタムスタイルは `styles/globals.css` に定義
- コンポーネント固有のスタイルは、そのコンポーネントファイル内で定義

### データフェッチング
- tRPC を使用してデータフェッチングを実装
- クライアントサイドのデータフェッチングには `trpc.useQuery()` を使用
- ミューテーションには `trpc.useMutation()` を使用

### 状態管理
- ローカルステートには `useState` を使用
- グローバルステートが必要な場合は Jotai を使用

### エラーハンドリング
- API エラーは適切なエラーメッセージを表示
- フォームバリデーションエラーは適切に表示

### パフォーマンス
- 大きなコンポーネントは `React.memo()` でラップ
- 不要な再レンダリングを防ぐため、コールバック関数は `useCallback` でメモ化
- 計算コストの高い値は `useMemo` でメモ化

### アクセシビリティ
- セマンティックなHTML要素を使用
- 適切なARIA属性を設定

### 型定義
- 型定義は `types/` ディレクトリに配置

### 環境変数
- 環境変数は `env.ts` で型安全に定義
- クライアントサイドで使用する環境変数は `NEXT_PUBLIC_` プレフィックスを付ける

### コメント
- 複雑なロジックには適切なコメントを付ける
- JSDoc コメントを使用して関数やコンポーネントのドキュメント化を行う
- TODO コメントには担当者と期限を明記
